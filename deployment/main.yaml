apiVersion: apps/v1
kind: Deployment
metadata:
  name: freenet-reservations
spec:
  selector:
    matchLabels:
      app: freenet-reservations
    template:
      metadata:
        labels:
          app: freenet-reservations
      spec:
        volumes:
          - name: google-cloud-key
            secret:
              secretName: google-auth-key
        containers:
          - name: freenet-reserves
            image: freenet
            volumeMounts:
            - name: google-cloud-key
              mountPath: /var/secrets/google
            env:
              - name: GOOGLE_APPLICATION_CREDENTIALS
                value: /var/secrets/google/key.json